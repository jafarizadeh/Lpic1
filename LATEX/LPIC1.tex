\documentclass[12pt,a4paper]{report}
\usepackage[margin=1in]{geometry}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[hidelinks]{hyperref}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{enumerate}
\usepackage{setspace}
\usepackage{listings}
\usepackage{xcolor}

% Configuration pour les listings de code
\definecolor{codebg}{RGB}{245,245,245}
\lstset{
    language=bash,
    backgroundcolor=\color{codebg},
    basicstyle=\ttfamily\small,
    frame=single,
    breaklines=true,
    columns=fullflexible,
    keywordstyle=\color{blue},
    commentstyle=\color{gray},
    stringstyle=\color{orange},
    showstringspaces=false
}
\setstretch{1.15}

\begin{document}

%-------------------------------------------------------
% Title Page
%-------------------------------------------------------
\begin{titlepage}
    \centering
    \vspace*{3cm}
    {\Huge \textbf{LPIC-1 Exam Workbook}}\\
    \vspace{1cm}
    {\large \textit{A Chapter-by-Chapter Syllabus with Practice Questions}}\\
    \vfill
    {\large \textbf{Version 1.0}}\\
    \vspace{2cm}
    \vfill
    \textbf{Author:} Mehdi JAFARIZADEH \\
    \textbf{Date:} January 1, 2025
    \vspace{2cm}
\end{titlepage}

\tableofcontents
\newpage

%=======================================================
% TOPIC 101: SYSTEM ARCHITECTURE
%=======================================================
\chapter{Topic 101: System Architecture}


%-------------------------------------------------------
% 101.1 Determine and Configure Hardware Settings
%-------------------------------------------------------
\section*{101.1 Determine and Configure Hardware Settings}
\addcontentsline{toc}{section}{101.1 Determine and Configure Hardware Settings}

\textbf{Reference to LPI Objectives:}  
\begin{itemize}
    \item \textbf{LPIC-1 v5, Exam 101, Objective 101.1}
    \item \textbf{Weight:} 2
\end{itemize}

\subsection*{Key Knowledge Areas}
\begin{itemize}
    \item Enabling/disabling integrated peripherals (BIOS/UEFI).
    \item Identifying different types of mass storage devices.
    \item Determining hardware resources for devices (IRQ, DMA, etc.).
    \item Using tools (\texttt{lsusb}, \texttt{lspci}, \texttt{lsmod}) for hardware inspection.
    \item Manipulating USB devices.
    \item Understanding \texttt{sysfs}, \texttt{udev}, and \texttt{dbus} concepts.
\end{itemize}

\subsection*{Important Files, Terms, and Utilities}
\begin{itemize}
    \item \textbf{/sys/}
    \item \textbf{/proc/}
    \item \textbf{/dev/}
    \item \texttt{modprobe}
    \item \texttt{lsmod}
    \item \texttt{lspci}
    \item \texttt{lsusb}
\end{itemize}

\section*{Lesson Overview}

Modern computers rely on standards for firmware and hardware interaction. On x86 platforms, the firmware could be traditional \textbf{BIOS} or newer \textbf{UEFI}. Both allow for configuring hardware resources (e.g., integrated peripherals, IRQs, DMA settings) even before the operating system loads.

Once Linux is running, device detection and configuration rely on the kernel and support from user-space utilities such as \texttt{lspci}, \texttt{lsusb}, \texttt{lsmod}, and various pseudo-filesystems in \textbf{/proc} and \textbf{/sys}.

\subsection*{1. BIOS and UEFI Configuration}
\begin{itemize}
    \item \textbf{Accessing Firmware:} Typically press \texttt{Del}, \texttt{F2}, or \texttt{F12} at startup.
    \item \textbf{Common Configurations:}
    \begin{itemize}
        \item Enable/disable integrated peripherals (USB ports, onboard audio, etc.).
        \item Set boot order and define the primary device for the bootloader.
        \item Adjust CPU features or RAM parameters if needed.
    \end{itemize}
    \item \textbf{Impact:} Misconfiguration (e.g., wrong boot device) can prevent the OS from loading.
\end{itemize}

\subsection*{2. Device Detection in Linux}
\begin{itemize}
    \item \textbf{Goal:} Match hardware parts to the correct driver (\textbf{kernel module}).
    \item \textbf{Basic Workflow:}
    \begin{enumerate}
        \item \textbf{Check if hardware is detected} (e.g., \texttt{lspci}, \texttt{lsusb}).
        \item \textbf{Verify if a driver is loaded} (e.g., \texttt{lsmod}, \texttt{lspci -k}).
        \item \textbf{Confirm functionality} via logs, testing, or additional tools.
    \end{enumerate}
\end{itemize}

\subsection*{3. Commands for Hardware Inspection}

\begin{enumerate}
    \item \textbf{\texttt{lspci}}
    \begin{itemize}
        \item Lists PCI devices (graphics cards, network interfaces, etc.).
        \item Use \texttt{-v} for more detail and \texttt{-k} to see which kernel modules are in use.
        \item Example:
        \begin{lstlisting}[language=bash]
lspci -s 04:02.0 -v
lspci -s 01:00.0 -k
        \end{lstlisting}
    \end{itemize}

    \item \textbf{\texttt{lsusb}}
    \begin{itemize}
        \item Lists USB devices (keyboards, mice, USB hubs, etc.).
        \item Use \texttt{-v} for verbose output and \texttt{-d <vendor:product>} to focus on a specific device.
        \item Example:
        \begin{lstlisting}[language=bash]
lsusb -v -d 1781:0c9f
lsusb -t  # Show devices in a tree structure
        \end{lstlisting}
    \end{itemize}

    \item \textbf{\texttt{lsmod}}
    \begin{itemize}
        \item Shows loaded kernel modules.
        \item Columns: \textbf{Module}, \textbf{Size}, \textbf{Used by} (dependency information).
        \item Example:
        \begin{lstlisting}[language=bash]
lsmod | grep snd_hda_intel
        \end{lstlisting}
    \end{itemize}

    \item \textbf{\texttt{modprobe}}
    \begin{itemize}
        \item Loads or unloads modules (with dependencies).
        \item \texttt{modprobe -r <module>} removes a module if not in use.
        \item \texttt{modinfo <module>} shows module details (author, license, parameters, etc.).
        \item Configuration files in \texttt{/etc/modprobe.d/} can blacklist or set module parameters.
    \end{itemize}
\end{enumerate}

\subsection*{4. Hardware Information Files}
\begin{itemize}
    \item \textbf{/proc} (pseudo-filesystem for processes and hardware info)
    \begin{itemize}
        \item \texttt{/proc/cpuinfo}, \texttt{/proc/interrupts}, \texttt{/proc/ioports}, \texttt{/proc/dma}
    \end{itemize}
    \item \textbf{/sys} (\texttt{sysfs} for device and kernel data)
    \item \textbf{/dev} (device files)
    \begin{itemize}
        \item Each entry represents a device (e.g., \texttt{/dev/sda1}, \texttt{/dev/fd0}).
        \item \textbf{\texttt{udev}} dynamically creates/removes these files as devices connect or disconnect.
    \end{itemize}
\end{itemize}

\subsection*{5. Storage Devices}
\begin{itemize}
    \item \textbf{Block Devices:} Accessed in fixed-size blocks (hard disks, SSDs, etc.).
    \item \textbf{Naming Conventions:}
    \begin{itemize}
        \item Newer kernels use \texttt{sd} prefix for most disks; partitions are numbered (\texttt{/dev/sda1}).
        \item \textbf{IDE} devices also appear as \texttt{sd} on modern kernels
        \item \textbf{NVMe} devices get names like \texttt{/dev/nvme0n1p1}.
        \item \textbf{SD Cards} often appear as \texttt{/dev/mmcblk0p1}.
    \end{itemize}

    \item \textbf{Hotplug and Coldplug:}
    \begin{itemize}
        \item \textbf{Hotplug:} device recognized after boot (e.g., USB).
        \item \textbf{Coldplug:} device recognized during boot (built-in or already connected).
    \end{itemize}
\end{itemize}

\section*{Workbook Exercises}

\begin{enumerate}
    \item \textbf{Accessing BIOS/UEFI}
    \begin{itemize}
        \item Reboot a test machine and enter BIOS/UEFI.
        \item Locate the sections that let you enable/disable integrated peripherals.
        \item Identify the menu where boot order is set.
    \end{itemize}

    \item \textbf{Listing Hardware}
    \begin{itemize}
        \item On a Linux system, run \texttt{lspci -k}.
        \begin{itemize}
            \item Identify which driver is used by the video card.
        \end{itemize}
        \item Run \texttt{lsusb -t}.
        \begin{itemize}
            \item Check which USB driver modules are in use (e.g., \texttt{btusb, usbhid}).
        \end{itemize}
    \end{itemize}

    \item \textbf{Exploring /proc and /sys}
    \begin{itemize}
        \item View CPU details with \texttt{cat /proc/cpuinfo}.
        \item Inspect interrupts with \texttt{cat /proc/interrupts}.
        \item Explore \texttt{/sys/class} and \texttt{/sys/block} to see how devices are represented.
    \end{itemize}

    \item \textbf{Managing Kernel Modules}
    \begin{itemize}
        \item Use  \texttt{lsmod} to list all loaded modules.
        \item Pick a module (e.g., a sound driver) and unload it with \texttt{sudo modprobe -r <module>}.
        \begin{itemize}
            \item Check if removal is allowed (the module should not be in use).
        \end{itemize}
        \item Use \texttt{modinfo -p <module>} to see possible parameters, and note how you might apply them in \texttt{/etc/modprobe.d/}.
        
    \end{itemize}

    \item \textbf{Blacklisting a Module}
    \begin{itemize}
        \item Create a test file in \texttt{/etc/modprobe.d/} to blacklist an unwanted module (e.g., \texttt{nouveau}).
        \item Reboot and confirm it is not loaded by checking \texttt{lsmod}.
    \end{itemize}
\end{enumerate}

\section*{Summary}
\begin{itemize}
    \item Modern systems rely on firmware (BIOS/UEFI) for initial hardware configuration.
    \item Linux identifies devices via kernel modules; tools like \texttt{lspci}, \texttt{lsusb}, \texttt{lsmod}, and \texttt{modprobe} allow you to inspect and manage hardware.
    \item \texttt{/proc} and \texttt{/sys} provide detailed, real-time system information, while \texttt{udev} dynamically manages device nodes in \texttt{/dev}.
    \item Storage device naming conventions follow standard patterns such as \texttt{sd}, \texttt{nvme}, \texttt{mmcblk}, and partition numbers like \texttt{/dev/sda1}.
    \item Understanding how to enable/disable devices, load/unload modules, and explore hardware information files is crucial for effective system administration and LPIC-1 success.
\end{itemize}




%-------------------------------------------------------
% Multiple-Choice Questions (101.1)
%-------------------------------------------------------
\newpage
\section*{Multiple-Choice Questions for 101.1}

\begin{enumerate}[1.]
\item When trying to enable or disable motherboard-integrated peripherals, which component of the system is typically used?
  \begin{enumerate}[A)]
    \item The BIOS or UEFI configuration utility
    \item The Linux kernel’s initrd
    \item The \texttt{/boot} partition
    \item The \texttt{lsusb} command

  \end{enumerate}

\item Which command lists devices currently connected to the PCI bus?
  \begin{enumerate}[A)]
    \item \texttt{modprobe}
    \item \texttt{lsmod}
    \item \texttt{lspci}
    \item \texttt{lshw}
  \end{enumerate}

\item Which of the following commands helps you list USB devices in a tree-like hierarchy?
  \begin{enumerate}[A)]
    \item lsusb -a
    \item lsusb -s
    \item lsusb -f
    \item lsusb -t
  \end{enumerate}

\item To remove a kernel module (along with its dependencies) while the system is running, which command should be used?
  \begin{enumerate}[A)]
    \item modinfo -r
    \item modprobe -r
    \item rmmod --all
    \item lsmod -r
  \end{enumerate}

\item On modern Linux systems, SATA disks are generally identified as which kind of device name?
  \begin{enumerate}[A)]
    \item /dev/sdX
    \item /dev/hdX
    \item /dev/nvmeXnY
    \item /dev/fdX
  \end{enumerate}

\item Which file below would you edit to permanently blacklist a problematic kernel module such that it doesn’t load automatically?
  \begin{enumerate}[A)]
    \item /etc/rc.local
    \item /etc/modprobe.d/blacklist.conf
    \item /boot/grub/grub.cfg
    \item /proc/blacklist/modules
  \end{enumerate}

\item Which pseudo-filesystem is most specifically devoted to storing device and kernel data related to hardware?
  \begin{enumerate}[A)]
    \item /dev
    \item /proc
    \item /sys
    \item /home
  \end{enumerate}

\item Which command line will show a specific USB device’s verbose information using its vendor:product ID (e.g., 1781:0c9f)?
  \begin{enumerate}[A)]
    \item lsusb -d 1781:0c9f -v
    \item lsusb -p 1781:0c9f -v
    \item lsusb -i 1781:0c9f
    \item lsusb -v -s 01:02
  \end{enumerate}

\item In the output of lsmod, the “Used by” column indicates:
  \begin{enumerate}[A)]
    \item the file size of the module on disk
    \item the user-level applications that installed the module
    \item the modules or processes depending on that module
    \item kernel version compatibility for that module
  \end{enumerate}

\item If you need to confirm which kernel driver is in use by a particular PCI device, which \texttt{lspci} option combination is most helpful on recent distributions?
  \begin{enumerate}[A)]
    \item lspci -m
    \item lspci -k
    \item lspci -D
    \item lspci --driver
  \end{enumerate}

\item What does the output of \texttt{lsusb -t} specifically highlight that differs from plain \texttt{lsusb}?
  \begin{enumerate}[A)]
    \item The exact partition layout of attached USB drives
    \item A hierarchical (tree-like) representation of USB devices and drivers
    \item The SCSI ID mappings of USB-attached devices
    \item A summary of device’s kernel modules only
  \end{enumerate}

\item Which best describes the function of the \texttt{modinfo} command?
  \begin{enumerate}[A)]
    \item It removes the specified module from the kernel
    \item It displays all processes currently using a kernel module
    \item It lists detailed information about a specified module, including parameters
    \item It inserts the specified module and resolves dependencies
  \end{enumerate}

\item What is the role of \texttt{udev} on a modern Linux system?
  \begin{enumerate}[A)]
    \item It is a pseudo-filesystem used to track hardware devices in \texttt{/sys}
    \item It permanently stores device drivers in \texttt{/boot}
    \item It manages device nodes in \texttt{/dev}, handling hotplug/coldplug events
    \item It only configures CPU frequency scaling
  \end{enumerate}

\item Which file inside \texttt{/proc} would you inspect to see how many interrupts have occurred for each device?
  \begin{enumerate}[A)]
    \item \texttt{/proc/ioports}
    \item \texttt{/proc/dma}
    \item \texttt{/proc/cpuinfo}
    \item \texttt{/proc/interrupts}
  \end{enumerate}

\item If a device is recognized by the kernel but not functioning correctly, which of the following is the most likely underlying cause?
  \begin{enumerate}[A)]
    \item The BIOS is not set to read the device’s firmware
    \item The associated kernel module (driver) is not loaded or is misconfigured
    \item The CPU lacks the required SSE instruction set
    \item The device was not assigned a correct IRQ in the \texttt{/etc/fstab}
  \end{enumerate}

\item Which file is typically used to pass persistent module load options like \texttt{options nouveau modeset=0}?
  \begin{enumerate}[A)]
    \item \texttt{/etc/udev/rules.d/99-custom.rules}
    \item \texttt{/proc/meminfo}
    \item \texttt{/etc/modprobe.d/<module>.conf}
    \item \texttt{/etc/modules-load.d/module.options}
  \end{enumerate}

\item What is the main purpose of SysFS (\texttt{/sys}) in a Linux system?
  \begin{enumerate}[A)]
    \item Stores process information like CPU usage
    \item Holds user configuration data for \texttt{/home}
    \item Exports device and driver information from the kernel to user space
    \item Contains scripts to mount all system filesystems
  \end{enumerate}

\item Which command is most appropriate for listing all currently loaded kernel modules?
  \begin{enumerate}[A)]
    \item \texttt{ls -la /lib/modules/\$(uname -r)}
    \item \texttt{depmod -a}
    \item \texttt{lsmod}
    \item \texttt{insmod}
  \end{enumerate}

\item To selectively unload the \texttt{snd-hda-intel} module along with related dependent modules, which command would you use?
  \begin{enumerate}[A)]
    \item \texttt{modinfo snd-hda-intel --remove}
    \item \texttt{lsmod --unload snd-hda-intel}
    \item \texttt{depmod -r snd-hda-intel}
    \item \texttt{modprobe -r snd-hda-intel}
  \end{enumerate}

\item If you see a disk labeled as \texttt{/dev/mmcblk0p1}, which type of physical device is this likely referring to?
  \begin{enumerate}[A)]
    \item A SATA SSD
    \item An older IDE HDD
    \item An SD card or MMC device
    \item A USB DVD drive
  \end{enumerate}
\end{enumerate}

%-------------------------------------------------------
% Fill-in-the-Blank Questions (101.1)
%-------------------------------------------------------
\section*{Fill-in-the-Blank Questions for 101.1}

\begin{enumerate}[1.]

\item The older firmware commonly used before the UEFI standard is called \underline{\hspace{2cm}}.

\item The \underline{\hspace{2cm}} command lists all kernel modules currently loaded into the system.

\item A kernel module responsible for controlling hardware in Linux is often referred to as a \underline{\hspace{2cm}}.

\item The Linux subsystem that manages device node creation in \texttt{/dev} and handles hotplug/coldplug events is called \underline{\hspace{2cm}}.

\item The special, memory-based filesystem used for storing process and hardware information is the \underline{\hspace{2cm}} directory.

\item To configure boot device priority and enable or disable onboard peripherals, a user must typically access the \underline{\hspace{2cm}} or UEFI setup utility.

\item In Linux, disks commonly appear under \texttt{/dev} as \underline{\hspace{2cm}} devices (e.g., \texttt{/dev/sda}, \texttt{/dev/sdb}) on modern systems.

\item The \underline{\hspace{2cm}} command is used to insert or remove kernel modules and their dependencies.

\item When blacklisting a kernel module to prevent it from loading automatically, the configuration file is often placed in \underline{\hspace{2cm}}.

\item To see a hierarchical (tree-like) view of USB devices and the drivers handling them, you can run \underline{\hspace{2cm}} with the \texttt{-t} option.
 
\end{enumerate}

%-------------------------------------------------------
% 101.2 Boot the System
%-------------------------------------------------------
\newpage

\section*{101.2 Boot the System}
\addcontentsline{toc}{section}{101.2 Boot the System}

\textbf{Reference to LPI Objectives:}  
\begin{itemize}
    \item \textbf{LPIC-1 v5, Exam 101, Objective 101.2}
    \item \textbf{Weight:} 3
\end{itemize}

\subsection*{Key Knowledge Areas}
\begin{itemize}
    \item Providing common bootloader commands and kernel options at boot.
    \item Understanding the boot sequence (BIOS/UEFI through OS startup).
    \item Familiarity with SysVinit, systemd, and Upstart.
    \item Checking boot events and logs (\texttt{dmesg}, \texttt{journalctl}).
\end{itemize}

\subsection*{Important Files, Terms, and Utilities}
\begin{itemize}
    \item \textbf{dmesg}
    \item \textbf{journalctl}
    \item \textbf{BIOS} / \textbf{UEFI}
    \item \textbf{bootloader} (GRUB)
    \item \textbf{kernel}
    \item \textbf{initramfs}
    \item \textbf{init} (SysVinit, systemd, Upstart)
    \item \textbf{/proc/cmdline}
    \item \textbf{/var/log/}
\end{itemize}

\section*{Lesson Overview}

Booting a Linux system involves multiple stages:
\begin{enumerate}
    \item \textbf{Firmware Load:} BIOS or UEFI initializes basic hardware.
    \item \textbf{Bootloader:} Typically \textbf{GRUB}, which locates and loads the kernel.
    \item \textbf{Kernel \& initramfs:} Kernel initializes hardware and reads modules from the initramfs.
    \item \textbf{System Initialization:} \textbf{init} (SysVinit, systemd, Upstart) starts services and completes the boot process.
\end{enumerate}

\subsection*{1. BIOS vs. UEFI}
\begin{itemize}
\item\textbf{BIOS}  
\begin{itemize}
    \item Uses MBR (first 512 bytes) to load boot code (GRUB stage 1).
    \item Relies on a DOS partition scheme and the Master Boot Record.
    \item Boots the second stage of the bootloader, which in turn loads the kernel.
\end{itemize}

\item\textbf{UEFI}
\begin{itemize}
    \item Looks at entries in \textbf{NVRAM} to find an \textbf{EFI application} (usually GRUB).
    \item Loads the EFI application from a dedicated \textbf{EFI System Partition (ESP)}.
    \item Supports \textbf{Secure Boot} to allow only signed EFI applications.
\end{itemize}
\end{itemize}

\subsection*{2. Bootloader (GRUB)}
\begin{itemize}
    \item Presents a menu of installed kernels or operating systems.
    \item Enables passing \textbf{kernel parameters} (e.g., \texttt{quiet}, \texttt{acpi=off}, \texttt{root=/dev/sdaX}, etc.).
    \item Kernel parameters can be made persistent in \texttt{/etc/default/grub} and then updated with:
\end{itemize}

\begin{lstlisting}[language=bash]
grub-mkconfig -o /boot/grub/grub.cfg
\end{lstlisting}

\begin{itemize}
    \item Current kernel parameters are visible in \texttt{/proc/cmdline}.
\end{itemize}

\subsection*{3. System Initialization}

\begin{enumerate}
    \item \textbf{initramfs}
    \begin{itemize}
        \item Temporary root filesystem with essential drivers/modules.
        \item Lets the kernel mount the actual root filesystem.
    \end{itemize}
    \item \textbf{init}
    \begin{itemize}
        \item The “first process” in user space.
        \item \textbf{SysVinit:} uses \textbf{runlevels} (0–6).
        \item \textbf{systemd:} uses \textbf{targets}, concurrency, D-Bus, cgroups. Most common in modern distros.
        \item \textbf{Upstart:} parallel boot focusing on faster startup. Largely replaced by systemd.
    \end{itemize}
\end{enumerate}

\subsection*{4. Boot Logging and Inspection}
\begin{itemize}
    \item \textbf{dmesg}
    \begin{itemize}
        \item Displays the \textbf{kernel ring buffer} (including boot messages).
        \item Clears with \texttt{dmesg --clear}.
    \end{itemize}
    \item \textbf{journalctl}
    \begin{itemize}
        \item Systemd-based logging tool.
        \item \texttt{journalctl -b} shows current boot messages.
        \item \texttt{journalctl --list-boots} lists previous boots.
    \end{itemize}
    \item Traditional log files also found in \texttt{/var/log/}, e.g., \texttt{/var/log/messages} or \texttt{/var/log/syslog}.
\end{itemize}

\section*{Workbook Exercises}

\begin{enumerate}
    \item \textbf{Firmware Awareness}
    \begin{itemize}
        \item Reboot a test machine.
        \item Determine whether it uses \textbf{BIOS} or \textbf{UEFI}.
        \item In BIOS: Find where the boot order is set.
        \item In UEFI: Locate the ESP partition and explore contents if possible.
    \end{itemize}
    \item \textbf{GRUB Menu and Kernel Parameters}
    \begin{itemize}
        \item Boot into the GRUB menu by pressing \textbf{Shift} (BIOS) or \textbf{Esc} (UEFI).
        \item Edit a menu entry to add or change a kernel parameter (e.g., \texttt{init=/bin/bash}, \texttt{acpi=off}).
        \item After boot, check \texttt{/proc/cmdline} to confirm your changes.
    \end{itemize}
    \item \textbf{System Initialization Tools}
    \begin{itemize}
        \item Identify which init system your distribution uses (\texttt{ps -p 1 -o comm=}).
        \item If it’s systemd, compare output of these commands:
\end{itemize}

\begin{lstlisting}[language=bash]
systemctl list-units --type=service
journalctl -b
\end{lstlisting}

\begin{itemize}
        \item If SysVinit is present, inspect runlevel scripts in \texttt{/etc/rc.d/} or \texttt{/etc/init.d/}.
    \end{itemize}
    \item \textbf{Inspecting Boot Logs}
    \begin{itemize}
        \item Run \texttt{dmesg | less} to page through the kernel ring buffer.
        \item If using systemd, run \texttt{journalctl --list-boots} to see previous boots.
        \item View the logs for the current boot with \texttt{journalctl -b 0}.
    \end{itemize}
    \item \textbf{initramfs Exploration}
    \begin{itemize}
        \item Locate your initramfs file (commonly in \texttt{/boot}, e.g., \texttt{initramfs-<version>.img}).
        \item List contents using \texttt{lsinitrd} or \texttt{unmkinitramfs} (may require additional packages).
        \item Identify which modules are included for the root filesystem.
    \end{itemize}
\end{enumerate}

\section*{Summary}
\begin{itemize}
    \item The boot process starts with \textbf{BIOS/UEFI} firmware, which calls \textbf{GRUB} to load the \textbf{kernel}.
    \item The \textbf{initramfs} contains essential modules and mounts the real root filesystem.
    \item An \textbf{init} system (SysVinit, systemd, Upstart) then starts daemons and services.
    \item \textbf{dmesg} and \textbf{journalctl} provide essential logs for troubleshooting.
    \item Understanding these steps ensures you can troubleshoot common startup issues and manage kernel parameters effectively.
\end{itemize}


%-------------------------------------------------------
% Multiple-Choice Questions for (101.2)
%-------------------------------------------------------
\newpage
\section*{Multiple-Choice Questions for 101.2}

\begin{enumerate}[1.]
    \item Which of the following best describes the role of the \textbf{kernel ring buffer} during the boot process?
      \begin{enumerate}[A)]
        \item It stores a copy of the MBR after BIOS initialization.
        \item It holds user processes’ initialization scripts during startup.
        \item It temporarily stores kernel messages, including boot messages.
        \item It provides secure boot verification for the EFI System Partition.
      \end{enumerate}
    
    \item On a typical Linux system with GRUB, which file should be edited to \textbf{persistently} add kernel boot parameters?
      \begin{enumerate}[A)]
        \item \texttt{/etc/default/grub}
        \item \texttt{/etc/systemd/system.conf}
        \item \texttt{/boot/vmlinuz}
        \item \texttt{/proc/cmdline}
      \end{enumerate}
    
    \item Which bootloader is most commonly associated with modern x86-based Linux systems?
      \begin{enumerate}[A)]
        \item LILO
        \item SYSLINUX
        \item BURG
        \item GRUB
      \end{enumerate}
    
    \item Which of the following statements about \textbf{Secure Boot} is \textbf{true}?
      \begin{enumerate}[A)]
        \item It forces the user to boot only from a local disk rather than USB devices.
        \item It requires EFI applications to be signed/authorized by the hardware vendor or a trusted party.
        \item It loads the SysVinit scripts in parallel to reduce the boot time of the OS.
        \item It uses MBR partition tables exclusively and disables GPT.
      \end{enumerate}
    
    \item The BIOS in a legacy (non-UEFI) x86 system typically reads and executes boot code from what specific location?
      \begin{enumerate}[A)]
        \item The first 440 bytes of the MBR on the primary boot device
        \item The second stage of GRUB in \texttt{/boot/grub}
        \item The NVRAM partition labeled \texttt{/efi/boot}
        \item \texttt{/boot} partition
      \end{enumerate}
    
    \item What is the \textbf{primary purpose} of \texttt{initramfs} during the boot process?
      \begin{enumerate}[A)]
        \item To store the kernel ring buffer.
        \item To provide early user accounts for system security.
        \item To load required kernel modules so the real root filesystem can be mounted.
        \item To replace the BIOS firmware in older systems.
      \end{enumerate}
    
    \item You want to limit a Linux guest system to a maximum of 1 GB of RAM at boot time. Which kernel parameter should be used?
      \begin{enumerate}[A)]
        \item \texttt{nosmp=1G}
        \item \texttt{mem=1G}
        \item \texttt{ram=1G}
        \item \texttt{maxcpus=1G}
      \end{enumerate}
    
    \item Which of the following is a feature of \textbf{systemd}?
      \begin{enumerate}[A)]
        \item Entirely depends on runlevels 0–6 and SysV scripts.
        \item Uses sockets and D-Bus for on-demand service activation.
        \item Must be installed as a kernel module.
        \item It can only run one service at a time to avoid concurrency issues.
      \end{enumerate}
    
    \item While troubleshooting a boot issue, you want to see \textbf{previous} system boots’ log messages. Which systemd-related command enables you to do this?
      \begin{enumerate}[A)]
        \item \texttt{dmesg --previous}
        \item \texttt{journalctl --list-boots}
        \item \texttt{systemctl --history}
        \item \texttt{logrotate -b}
      \end{enumerate}
    
    \item After you edit \texttt{/etc/default/grub} to add a new kernel parameter, which command is typically used to \textbf{update} the GRUB configuration on many distributions?
      \begin{enumerate}[A)]
        \item \texttt{cp /etc/default/grub /boot/grub/grub.conf}
        \item \texttt{touch /boot/grub/grub.cfg}
        \item \texttt{grub-install /boot}
        \item \texttt{grub-mkconfig -o /boot/grub/grub.cfg}
      \end{enumerate}
    
    \item What does the kernel parameter \texttt{acpi=off} do?
      \begin{enumerate}[A)]
        \item Disables multi-processor support, similar to \texttt{nosmp}.
        \item Disables BIOS POST checks and loads the kernel directly.
        \item Disables ACPI functions to troubleshoot power management or ACPI-related issues.
        \item Forces the root filesystem to be mounted as read-only.
      \end{enumerate}
    
    \item In a SysVinit-based system, which file primarily determines which \textbf{runlevel} the system will go to when it finishes booting?
      \begin{enumerate}[A)]
        \item \texttt{/etc/fstab}
        \item \texttt{/boot/initramfs-<version>.img}
        \item \texttt{/etc/inittab}
        \item \texttt{/var/log/boot.log}
      \end{enumerate}
    
    \item When using UEFI, which partition \textbf{must} contain the bootloader or EFI applications?
      \begin{enumerate}[A)]
        \item The root (\texttt{/}) filesystem partition
        \item A dedicated GPT partition labeled \textquotedbl{}MBR\textquotedbl{}
        \item An NVRAM-based partition called \texttt{/var/lib/EFI}
        \item The EFI System Partition (ESP)
      \end{enumerate}
    
    \item Which kernel parameter instructs the system to \textbf{start} a different \textbf{initial process} instead of the default \texttt{/sbin/init} or systemd?
      \begin{enumerate}[A)]
        \item \texttt{init=/bin/bash}
        \item \texttt{systemd.unit=multi-user.target}
        \item \texttt{noapic}
        \item \texttt{ro}
      \end{enumerate}
    
    \item The term \textbf{daemon} is typically used to describe which kind of program in a Linux system?
      \begin{enumerate}[A)]
        \item A program that only runs once at boot and then terminates.
        \item A service that remains \textbf{running} in the background.
        \item Any script that an administrator invokes manually from the command line.
        \item A background service process (e.g. system or network) that runs indefinitely.
      \end{enumerate}
    
    \item Which of the following is \textbf{not} a valid kernel parameter for controlling the amount of displayed boot information?
      \begin{enumerate}[A)]
        \item \texttt{verbose=0}
        \item \texttt{quiet}
        \item \texttt{vga=ask}
        \item \texttt{maxcpus=1}
      \end{enumerate}
    
    \item If a critical system service fails to start during boot and the system uses \textbf{systemd}, where would you most likely check \textbf{first} for the relevant error messages?
      \begin{enumerate}[A)]
        \item \texttt{/proc/cmdline}
        \item \texttt{/etc/default/grub}
        \item \texttt{systemctl list-jobs}
        \item \texttt{journalctl -b} or \texttt{journalctl --boot}
      \end{enumerate}
    
    \item In a system that uses SysVinit, which runlevel is \textbf{commonly} used for \textbf{single-user mode} (maintenance mode)?
      \begin{enumerate}[A)]
        \item 2
        \item 5
        \item 1
        \item 3
      \end{enumerate}
    
    \item Which of the following statements about \textbf{Upstart} is correct?
      \begin{enumerate}[A)]
        \item It can parallelize the initialization of services but has largely been replaced by systemd.
        \item It replaces the BIOS in older systems.
        \item It is strictly a tool for reading the kernel ring buffer.
        \item It is used to sign EFI applications for Secure Boot.
      \end{enumerate}
    
    \item The BIOS POST (Power-On Self-Test) primarily checks for:
      \begin{enumerate}[A)]
        \item Valid ext4 partitions on the system’s boot drive.
        \item Basic hardware components and any major hardware failures.
        \item Corrupted kernel parameters in \texttt{/proc/cmdline}.
        \item Upstart jobs that should be started first.
      \end{enumerate}
    
    \end{enumerate}

  
  %-------------------------------------------------------
  % Fill-in-the-Blank Questions (101.2)
  %-------------------------------------------------------
  \section*{Fill-in-the-Blank Questions for 101.2}
  
  \begin{enumerate}[1.]
    \item The firmware on modern x86 systems can be either traditional \underline{\hspace{2cm}} or the more advanced \underline{\hspace{2cm}}.
    \item On legacy BIOS-based systems, the first stage of the bootloader is typically located in the first \underline{\hspace{2cm}} bytes of the \underline{\hspace{2cm}}.
    \item When using UEFI, the bootloader or EFI applications are stored in a dedicated partition called the \underline{\hspace{2cm}}, often formatted with a FAT filesystem.
    \item The kernel parameter \texttt{\underline{\hspace{2cm}}=/bin/bash} causes the system to start a Bash shell as the first user-space process instead of the standard init system.
    \item The file \texttt{/etc/default/grub} contains the directive \texttt{GRUB\_CMDLINE\_LINUX}, which is used to specify \underline{\hspace{2cm}} passed to the kernel at boot time.
    \item The command \texttt{grub-mkconfig -o /boot/grub/grub.cfg} is needed after modifying \texttt{/etc/default/grub} to \underline{\hspace{2cm}} the bootloader configuration.
    \item The memory area that stores kernel messages, including boot information, is called the \underline{\hspace{2cm}}, which can be viewed with the \texttt{dmesg} command.
    \item The \underline{\hspace{2cm}} process runs basic hardware checks (like checking memory) as soon as the machine is powered on, before loading the bootloader.
    \item In a SysVinit-based system, the file \texttt{/etc/\underline{\hspace{2cm}}} typically defines which runlevel the system will enter when it finishes booting.
    \item A(n) \underline{\hspace{2cm}} is a background service or process that remains running to provide system or network functionality.
\end{enumerate}
\newpage


%-------------------------------------------------------
% 101.3 Change Runlevels / Boot Targets and Shutdown or Reboot System
%-------------------------------------------------------

\section*{101.3 Change Runlevels / Boot Targets and Shutdown or Reboot System}
\addcontentsline{toc}{section}{101.3 Change Runlevels / Boot Targets and Shutdown or Reboot System}

\textbf{Reference to LPI Objectives:}  
\begin{itemize}
    \item \textbf{LPIC-1 v5, Exam 101, Objective 101.3}
    \item \textbf{Weight:} 3
\end{itemize}

\subsection*{Key Knowledge Areas}
\begin{itemize}
    \item Setting the default runlevel/boot target.
    \item Changing between runlevels/targets, including single-user mode.
    \item Shutting down and rebooting from the command line.
    \item Alerting users before switching runlevels/boot targets or major system events.
    \item Properly terminating processes.
    \item Awareness of \textbf{acpid} (power management).
\end{itemize}

\subsection*{Important Files, Terms, and Utilities}
\begin{itemize}
    \item \textbf{/etc/inittab} (SysVinit)
    \item \textbf{shutdown}
    \item \textbf{init}, \textbf{telinit} (SysVinit)
    \item \textbf{/etc/init.d/} (SysVinit scripts)
    \item \textbf{systemd}, \textbf{systemctl}
    \item \textbf{/etc/systemd/}, \textbf{/usr/lib/systemd/}
    \item \textbf{wall} (send messages to all logged-in users)
\end{itemize}

\section*{Lesson Overview}

Linux can operate in different “states” or “modes” called \textbf{runlevels} in SysVinit or \textbf{targets} in systemd. Being able to switch between them and perform system shutdowns or reboots is essential for system administration.

\section*{1. SysVinit Runlevels}

\subsection*{1. Runlevels}
\begin{itemize}
    \item \textbf{0} – Shutdown
    \item \textbf{1 (single), s} – Single-user (maintenance) mode
    \item \textbf{2, 3, 4} – Multi-user modes (3 is typical, 2/4 vary by distro)
    \item \textbf{5} – Multi-user plus graphical mode
    \item \textbf{6} – Reboot
\end{itemize}

\subsection*{2. Configuration}
\begin{itemize}
    \item \textbf{/etc/inittab} defines default runlevel (\texttt{id:x:initdefault:})
    \item Each runlevel has a dedicated directory: \textbf{/etc/rc0.d/}, \textbf{/etc/rc1.d/}, etc.
    \item Scripts in \textbf{/etc/init.d/} are symlinked to these runlevel directories.
    \begin{itemize}
        \item Names starting with \textbf{S} start services.
        \item Names starting with \textbf{K} kill services.
    \end{itemize}
\end{itemize}

\subsection*{3. Switching Runlevels}
\begin{itemize}
    \item \textbf{init} or \textbf{telinit} commands set the current runlevel.
    \item \texttt{telinit 1}: move to runlevel 1 (maintenance mode).
    \item \texttt{runlevel}: shows current and previous runlevel (e.g., \texttt{N 3} means currently 3 and no prior change).
\end{itemize}

\subsection*{4. Reloading \textbf{/etc/inittab}}
\begin{itemize}
    \item After editing \textbf{/etc/inittab}, run \texttt{telinit q} to re-read the config.
\end{itemize}

\section*{2. systemd Targets}

\subsection*{1. systemd Concepts}
\begin{itemize}
    \item \textbf{Units} represent services, sockets, devices, mounts, automounts, targets, and snapshots.
    \item \textbf{systemctl} is the primary command to manage these units (start, stop, enable, etc.).
\end{itemize}

\subsection*{2. Targets}
\begin{itemize}
    \item systemd uses \textbf{targets} to group units. Examples:
    \begin{itemize}
        \item \textbf{multi-user.target} – analogous to runlevel 3 (no GUI).
        \item \textbf{graphical.target} – analogous to runlevel 5 (GUI mode).
    \end{itemize}
    \item You can isolate a target:
\end{itemize}

\begin{lstlisting}[language=bash]
systemctl isolate multi-user.target
\end{lstlisting}

\subsection*{3. Default Target}
\begin{itemize}
    \item Change default target:
\end{itemize}

\begin{lstlisting}[language=bash]
systemctl set-default multi-user.target
\end{lstlisting}

\begin{itemize}
    \item View current default:
\end{itemize}

\begin{lstlisting}[language=bash]
systemctl get-default
\end{lstlisting}

\begin{itemize}
    \item Avoid pointing to \textbf{shutdown.target} or \textbf{reboot.target}.
\end{itemize}

\subsection*{4. Service Management}
\begin{itemize}
    \item \texttt{systemctl start/stop/restart} \texttt{<service>.service}
    \item \texttt{systemctl enable/disable} \texttt{<service>.service} (at boot)
    \item \texttt{systemctl status} \texttt{<service>.service}
    \item \texttt{systemctl list-unit-files --type=service} – list available services
    \item \texttt{systemctl list-units --type=service} – list loaded/running services
\end{itemize}

\subsection*{5. Power Management}
\begin{itemize}
    \item \texttt{systemctl suspend}, \texttt{systemctl hibernate}
    \item For finer power-event control (e.g., lid close), \textbf{acpid} can be used instead of systemd’s built-in power management.
\end{itemize}

\section*{3. Upstart (Historical)}

\begin{enumerate}
    \item \textbf{Upstart} was used in older Ubuntu-based systems before switching to systemd.
    \item \textbf{Commands}:
    \begin{itemize}
        \item \texttt{initctl list} – list services and states
        \item \texttt{start / stop / status <service>} – control services
        \item Initialization scripts: \textbf{/etc/init/}
    \end{itemize}
    \item \texttt{runlevel} and \texttt{telinit} still work for basic runlevel tasks.
\end{enumerate}

\section*{4. Shutting Down and Rebooting}

\subsection*{1. shutdown}
\begin{itemize}
    \item Syntax:
\end{itemize}

\begin{lstlisting}[language=bash]
shutdown [option] time [message]
\end{lstlisting}

\begin{itemize}
    \item \textbf{time} can be \texttt{now}, \texttt{+m} (minutes from now), or \texttt{hh:mm} (absolute time).
    \item Common options:
    \begin{itemize}
        \item \textbf{-h} – halt/power off
        \item \textbf{-r} – reboot
    \end{itemize}
    \item Notifies logged-in users and prevents new logins (unless overridden).
\end{itemize}

\subsection*{2. systemctl (systemd)}
\begin{itemize}
    \item \texttt{systemctl reboot} – reboot system
    \item \texttt{systemctl poweroff} – power off system
    \item Sometimes distros alias \texttt{poweroff} and \texttt{reboot} to systemd commands.
\end{itemize}

\subsection*{3. wall}
\begin{itemize}
    \item Sends a message to all logged-in users’ terminals (similar to \texttt{shutdown}’s broadcast).
    \item Useful for manual warnings before switching to single-user mode or shutting down.
\end{itemize}

\section*{Workbook Exercises}

\begin{enumerate}
    \item \textbf{Identify Your Init System}
    \begin{itemize}
        \item Run \texttt{ps -p 1 -o comm=} to see if your system uses \textbf{systemd}, \textbf{init}, or \textbf{Upstart}.
    \end{itemize}
    \item \textbf{Practice Switching Runlevels (SysV)}
    \begin{itemize}
        \item On a SysVinit system, edit \textbf{/etc/inittab} to set default runlevel to \textbf{3}.
        \item Run \texttt{telinit q} and verify with \texttt{runlevel}.
        \item Switch to single-user mode: \texttt{telinit 1}.
    \end{itemize}
    \item \textbf{Practice Managing systemd Targets}
    \begin{itemize}
        \item Show the current default target: \texttt{systemctl get-default}.
        \item Switch from \textbf{graphical.target} to \textbf{multi-user.target} using:
\end{itemize}

\begin{lstlisting}[language=bash]
systemctl isolate multi-user.target
\end{lstlisting}

\begin{itemize}
        \item Confirm the change: \texttt{systemctl status multi-user.target}.
    \end{itemize}
    \item \textbf{Service Control with systemd}
    \begin{itemize}
        \item Start a service (e.g., \texttt{ssh.service}):
\end{itemize}

\begin{lstlisting}[language=bash]
sudo systemctl start ssh
\end{lstlisting}

\begin{itemize}
        \item Check service status: \texttt{systemctl status ssh}.
        \item Enable service at boot: \texttt{systemctl enable ssh}.
    \end{itemize}
    \item \textbf{Shutdown Commands}
    \begin{itemize}
        \item Schedule a reboot in 10 minutes, sending a warning message:
\end{itemize}

\begin{lstlisting}[language=bash]
sudo shutdown -r +10 "System will reboot in 10 minutes."
\end{lstlisting}

\begin{itemize}
        \item Cancel a scheduled shutdown with:
\end{itemize}

\begin{lstlisting}[language=bash]
sudo shutdown -c
\end{lstlisting}

\begin{itemize}
        \item Use \textbf{systemctl} to reboot immediately: \texttt{systemctl reboot}.
    \end{itemize}
    \item \textbf{Sending Warnings}
    \begin{itemize}
        \item Open a second terminal and log in as a test user.
        \item From the admin terminal, run:
\end{itemize}

\begin{lstlisting}[language=bash]
wall "Warning! System moving to single-user mode in 1 minute."
\end{lstlisting}

\begin{itemize}
        \item Confirm the message appears in the other terminal.
    \end{itemize}
\end{enumerate}

\section*{Summary}
\begin{itemize}
    \item \textbf{SysVinit} uses numbered runlevels (0–6), configured via \textbf{/etc/inittab}, and manages services in \textbf{/etc/init.d/}.
    \item \textbf{systemd} uses \textbf{targets} and \textbf{units}, with \textbf{systemctl} providing service control and target isolation.
    \item \textbf{Upstart} (historical) uses \textbf{initctl} and scripts in \textbf{/etc/init/}.
    \item Shutting down, rebooting, or switching modes should alert current users (via \textbf{wall} or \textbf{shutdown}’s broadcast).
    \item Proper runlevel/target configuration ensures the correct set of services starts at boot, maximizing system stability and user support.
\end{itemize}


%-------------------------------------------------------
% Multiple-Choice Questions for (101.3)
%-------------------------------------------------------
\newpage
\section*{Multiple-Choice Questions for 101.3}

\begin{enumerate}[1.]

    \item Which file traditionally defines the default runlevel in a SysVinit system?
    \begin{enumerate}[A)]
        \item \texttt{/etc/inittab}
        \item \texttt{/etc/rc.conf}
        \item \texttt{/etc/systemd/system.conf}
        \item \texttt{/etc/default/runlevel}
    \end{enumerate}
    
    \item In SysVinit, which runlevel usually corresponds to \textbf{system restart}?
    \begin{enumerate}[A)]
        \item Runlevel 1
        \item Runlevel 3
        \item Runlevel 5
        \item Runlevel 6
    \end{enumerate}
    
    \item Which command is used on a SysVinit system to \textbf{check the current runlevel}?
    \begin{enumerate}[A)]
        \item \texttt{who -r}
        \item \texttt{runlevel}
        \item \texttt{init}
        \item \texttt{sysvcheck}
    \end{enumerate}
    
    \item On a SysVinit system, which \textbf{runlevel} is typically reserved for \textbf{multi-user mode without a graphical environment}?
    \begin{enumerate}[A)]
        \item Runlevel 0
        \item Runlevel 1
        \item Runlevel 3
        \item Runlevel 6
    \end{enumerate}
    
    \item Which command \textbf{reloads} the \texttt{/etc/inittab} file after changes are made (on a SysVinit system)?
    \begin{enumerate}[A)]
        \item \texttt{telinit q}
        \item \texttt{init reload}
        \item \texttt{systemctl daemon-reload}
        \item \texttt{reload runlevel}
    \end{enumerate}
    
    \item Which \textbf{systemd unit type} is used for grouping other units so they can be controlled as a single entity?
    \begin{enumerate}[A)]
        \item service
        \item automount
        \item target
        \item socket
    \end{enumerate}
    
    \item On a \textbf{systemd} system, which command would you use to \textbf{switch} the system to \texttt{multi-user.target} immediately?
    \begin{enumerate}[A)]
        \item \texttt{systemctl default multi-user.target}
        \item \texttt{systemctl multi-user.target}
        \item \texttt{systemctl reload multi-user.target}
        \item \texttt{systemctl isolate multi-user.target}
    \end{enumerate}
    
    \item Which command is commonly used on SysVinit systems to \textbf{change} the current runlevel \textbf{without} rebooting?
    \begin{enumerate}[A)]
        \item \texttt{systemctl isolate}
        \item \texttt{telinit}
        \item \texttt{initctrl}
        \item \texttt{switchrun}
    \end{enumerate}
    
    \item In a SysVinit layout, scripts in directories like \texttt{/etc/rc3.d/} typically \textbf{start} with what letter if they are launched upon entering that runlevel?
    \begin{enumerate}[A)]
        \item R
        \item G
        \item S
        \item T
    \end{enumerate}
    
    \item Which \textbf{runlevel} or mode is typically used for \textbf{maintenance} when the system is only available to the administrator (no network services)?
    \begin{enumerate}[A)]
        \item Single-user (Runlevel 1)
        \item Graphical mode (Runlevel 5)
        \item Multi-user mode (Runlevel 3)
        \item Runlevel 2
    \end{enumerate}

    \item Which \textbf{SysVinit} command can be used to \textbf{halt} the system, after modifying the \texttt{/etc/inittab} entry for Ctrl+Alt+Del with the \texttt{-a} option?
    \begin{enumerate}[A)]
        \item \texttt{halt -a}
        \item \texttt{shutdown}
        \item \texttt{poweroff}
        \item \texttt{stop system}
    \end{enumerate}
    
    \item Which \textbf{systemctl} command would you use to \textbf{turn off} the system immediately on a \textbf{systemd} host?
    \begin{enumerate}[A)]
        \item \texttt{systemctl shutdown}
        \item \texttt{systemctl down}
        \item \texttt{systemctl isolate runlevel0.target}
        \item \texttt{systemctl poweroff}
    \end{enumerate}
    
    \item Which \textbf{systemd} unit type is used for hardware devices identified by the kernel?
    \begin{enumerate}[A)]
        \item target
        \item service
        \item device
        \item mount
    \end{enumerate}
    
    \item Which file is \textbf{not} used by \textbf{systemd} to set the default system target?
    \begin{enumerate}[A)]
        \item \texttt{/etc/systemd/system/default.target}
        \item \texttt{/lib/systemd/system/multi-user.target}
        \item \texttt{/lib/systemd/system/graphical.target}
        \item \texttt{/etc/inittab}
    \end{enumerate}
    
    \item If you see the output \texttt{tty5 start/running, process 1764} on an Ubuntu system, which \textbf{init system} is likely in use?
    \begin{enumerate}[A)]
        \item SysVinit
        \item Upstart
        \item systemd
        \item OpenRC
    \end{enumerate}
    
    \item On a \textbf{systemd} system, which command \textbf{reboots} the machine?
    \begin{enumerate}[A)]
        \item \texttt{systemctl shutdown -r}
        \item \texttt{systemctl kill}
        \item \texttt{systemctl isolate reboot.target}
        \item \texttt{systemctl reboot}
    \end{enumerate}
    
    \item Which \textbf{systemd} unit type is used to define an on-demand mount point?
    \begin{enumerate}[A)]
        \item device
        \item service
        \item socket
        \item automount
    \end{enumerate}
    
    \item Which \textbf{Upstart} command is used to \textbf{stop} a currently running job or service?
    \begin{enumerate}[A)]
        \item \texttt{upstartctl kill}
        \item \texttt{stop}
        \item \texttt{service halt}
        \item \texttt{haltjob}
    \end{enumerate}
    
    \item Which command is typically used to \textbf{send a message} to all logged-in users’ terminals?
    \begin{enumerate}[A)]
        \item \texttt{wall}
        \item \texttt{announce}
        \item \texttt{globalmsg}
        \item \texttt{bcast}
    \end{enumerate}
    
    \item In the \textbf{SysVinit} scheme, which directory contains startup scripts (symbolic links) specifically for \textbf{runlevel 2}?
    \begin{enumerate}[A)]
        \item \texttt{/etc/init.d2/}
        \item \texttt{/etc/rc.d/2/}
        \item \texttt{/etc/rc2.d/}
        \item \texttt{/etc/sysvinit/2/}
    \end{enumerate}
    
\end{enumerate}


%-------------------------------------------------------
% Fill-in-the-Blank Questions (101.3)
%-------------------------------------------------------
\section*{Fill-in-the-Blank Questions for 101.3}

\begin{enumerate}[1.]

\item In a \textbf{SysVinit} system, the default runlevel is configured in the file \textbf{\underline{\hspace{2cm}}}.

\item To switch the system to \textbf{single-user mode} (runlevel 1) on a SysVinit system, you can type \textbf{\underline{\hspace{2cm}} 1} or \textbf{\underline{\hspace{2cm}} s}.

\item The command \textbf{\underline{\hspace{2cm}} q} is used to make \textbf{init} re-read the \textbf{/etc/inittab} file after changes are made.

\item In \textbf{System V} style initialization, scripts controlling services are located in \textbf{\underline{\hspace{2cm}}}, while each runlevel (e.g., runlevel 3, 5) has its own subdirectory like \textbf{/etc/rc3.d/} or \textbf{/etc/rc5.d/}.

\item Under \textbf{systemd}, each background process or subsystem is referred to as a \textbf{\underline{\hspace{2cm}}} (e.g., \textbf{httpd.service}).

\item To change the \textbf{default target} in \textbf{systemd} without editing kernel parameters directly, you can use the command \textbf{systemctl set-default \underline{\hspace{2cm}}.target}.

\item In \textbf{systemd}, if you want to switch to \textbf{multi-user mode} without rebooting, you can execute \textbf{systemctl \underline{\hspace{2cm}} multi-user.target}.

\item When switching from \textbf{Upstart}, Ubuntu replaced its init system with \textbf{\underline{\hspace{2cm}}}.

\item The \textbf{\underline{\hspace{2cm}}} command sends a message to the terminal sessions of all logged-in users and is useful before shutting down or switching runlevels.

\item In a \textbf{SysVinit} system, \textbf{Runlevel 0} corresponds to \textbf{\underline{\hspace{2cm}}}, while \textbf{Runlevel 6} corresponds to a \textbf{restart} of the system.

\end{enumerate}

%=======================================================
% TOPIC 102: LINUX INSTALLATION AND PACKAGE MANAGEMENT
%=======================================================
\chapter{Topic 102: Linux Installation and Package Management}

%-------------------------------------------------------
% 102.1 Design hard disk layout
%-------------------------------------------------------
\newpage

\section*{102.1 Design Hard Disk Layout}
\addcontentsline{toc}{section}{102.1 Design Hard Disk Layout}

\textbf{Reference to LPI Objectives:}  
\begin{itemize}
    \item \textbf{LPIC-1 v5, Exam 102, Objective 102.1}  
    \item \textbf{Weight:} 2  
\end{itemize}

\subsection*{Key Knowledge Areas}
\begin{itemize}
    \item Allocating filesystems and swap space to separate partitions or disks.  
    \item Tailoring the partitioning scheme to system usage.  
    \item Understanding /boot or EFI System Partition requirements for booting.  
    \item Basic familiarity with LVM (Logical Volume Manager).
\end{itemize}

\subsection*{Important Terms and Utilities}
\begin{itemize}
    \item \textbf{/ (root)}, \textbf{/boot}, \textbf{/home}, \textbf{/var}  
    \item \textbf{EFI System Partition (ESP)}  
    \item \textbf{swap}  
    \item \textbf{mount points} (e.g., \texttt{/mnt}, \texttt{/media/USER/LABEL})  
    \item \textbf{partitions} and \textbf{logical volumes}  
    \item \textbf{LVM} (Physical Volumes, Volume Groups, Logical Volumes)
\end{itemize}



\section*{Lesson Overview}

Designing an effective disk layout is critical for system stability, performance, and ease of administration. You must understand partitions, filesystems, mount points, swap, and how LVM can simplify storage allocation.



\section*{1. Partitions, Filesystems, and Mount Points}

\subsection*{1.1 Partitions}
\begin{itemize}
    \item Logical “fences” on a disk; each partition has its own filesystem.  
    \item Partition information is stored in the \textbf{partition table}.  
    \item Partitions \textbf{cannot} span multiple disks (unless using LVM or RAID).  
\end{itemize}

\subsection*{1.2 Filesystems}
\begin{itemize}
    \item Define how data is organized in directories, files, and metadata.  
    \item Must be \textbf{mounted} on a mount point (e.g., \texttt{/mnt/mydata}).  
\end{itemize}

\subsection*{1.3 Mount Points}
\begin{itemize}
    \item Directory where a filesystem is attached.  
    \item Common directories:  
    \begin{itemize}
        \item \textbf{/mnt/} – traditional manual mount point.  
        \item \textbf{/media/} – automatic mounting of removable media.  
    \end{itemize}
    \item Existing contents of a mount point become hidden while another filesystem is mounted.
\end{itemize}



\section*{2. Recommended Partitions and Their Uses}

\subsection*{2.1 Root Partition (/)}
\begin{itemize}
    \item Base of the Linux directory structure.  
    \item Typically holds OS binaries and system config if not separated elsewhere.
\end{itemize}

\subsection*{2.2 /boot or EFI System Partition (ESP)}
\begin{itemize}
    \item \textbf{/boot} stores bootloader files (kernel images, initramfs, GRUB).  
    \item ESP is used on UEFI systems (formatted as FAT).  
    \item Usually 200–300 MB in size is sufficient for either.  
    \item Keeping boot files separate can help ensure the system can still boot if root is damaged.
\end{itemize}

\subsection*{2.3 /home}
\begin{itemize}
    \item Houses users’ personal files and preferences.  
    \item Separating \textbf{/home} allows OS reinstallation without erasing user data.  
    \item Size depends on user data and expected usage.
\end{itemize}

\subsection*{2.4 /var}
\begin{itemize}
    \item Contains variable data: logs (\texttt{/var/log}), caches (\texttt{/var/cache}), temp data (\texttt{/var/tmp}), etc.  
    \item On servers, \textbf{/var} can grow significantly (e.g., web or database data).  
    \item Putting \textbf{/var} on a separate partition (or disk) improves stability and prevents root from filling up.
\end{itemize}

\subsection*{2.5 Swap}
\begin{itemize}
    \item Extension of RAM to disk; cannot be mounted as a normal directory.  
    \item Often sized according to usage (e.g., old rule was 2×RAM; modern guidelines vary).  
    \item Consider \textbf{hibernation} requirements (swap $\geq$ RAM if hibernation is used).
\end{itemize}



\section*{3. LVM (Logical Volume Manager)}

\subsection*{3.1 Overview}
\begin{itemize}
    \item Provides flexible “virtual” partitions called \textbf{Logical Volumes (LVs)}.  
    \item \textbf{Physical Volumes (PVs)} $\rightarrow$ grouped into \textbf{Volume Groups (VGs)} $\rightarrow$ split into \textbf{Logical Volumes (LVs)}.  
    \item LVM allows resizing or adding storage more easily than traditional partitions.
\end{itemize}

\subsection*{3.2 Advantages}
\begin{itemize}
    \item \textbf{Ease of extension}: add space without reformatting or migrating data.  
    \item \textbf{Abstracts} underlying physical disks.  
    \item Logical volumes appear in \texttt{/dev/VG\_NAME/LV\_NAME}.
\end{itemize}

\subsection*{3.3 Basic Workflow (High-level)}
\begin{enumerate}
    \item Create or identify a \textbf{partition} (or entire disk) as a PV (\texttt{pvcreate /dev/sdaX}).  
    \item Combine PVs into a \textbf{Volume Group} (\texttt{vgcreate MYVG /dev/sdaX}).  
    \item Create a \textbf{Logical Volume} (\texttt{lvcreate -L 20G -n MYSERVICELV MYVG}).  
    \item Format LV with a filesystem (\texttt{mkfs.ext4 /dev/MYVG/MYSERVICELV}).  
    \item Mount where desired (\texttt{/etc/fstab} entry or \texttt{mount} command).
\end{enumerate}



\section*{Workbook Exercises}

\begin{enumerate}
    \item \textbf{Plan a Basic Partition Scheme}  
    \begin{itemize}
        \item Imagine you have a 500 GB disk for a personal workstation.  
        \item Sketch out your proposed partition table: \texttt{/boot} (300 MB), root (\texttt{/}), \texttt{/home}, \texttt{/var}, and swap.  
        \item Consider sizes for each partition and justify your choices.
    \end{itemize}

    \item \textbf{Identify ESP/BIOS Partitions}  
    \begin{itemize}
        \item On a UEFI-based system, locate and identify the \textbf{EFI System Partition} (\texttt{/boot/efi}).  
        \item Check partition type using \texttt{gdisk -l /dev/sda} or \texttt{fdisk -l /dev/sda}.  
        \item Verify its filesystem (FAT-based) with \texttt{lsblk -f} or \texttt{blkid}.
    \end{itemize}

    \item \textbf{Decide on Swap Size}  
    \begin{itemize}
        \item If your system has 8 GB of RAM, use Red Hat’s guidelines to propose a recommended swap size.  
        \item If planning hibernation, recalculate.
    \end{itemize}

    \item \textbf{Mount Points}  
    \begin{itemize}
        \item Create a directory \texttt{/mnt/testmount}.  
        \item Using an existing spare partition (or loopback device), manually mount it on \texttt{/mnt/testmount}.  
        \item Verify it is mounted with \texttt{mount | grep /mnt/testmount}.
    \end{itemize}

    \item \textbf{LVM Planning}  
    \begin{itemize}
        \item Using a virtual environment with two disks, plan an LVM layout:  
        \begin{enumerate}
            \item Convert one partition from each disk into PVs.  
            \item Create a Volume Group that spans both.  
            \item Create one or more Logical Volumes for \texttt{/data}.  
        \end{enumerate}
        \item Write down how you will format and mount \texttt{/data}.
    \end{itemize}

    \item \textbf{Storage Scenarios}  
    \begin{itemize}
        \item You run out of disk space on \texttt{/home}. What steps can you take with LVM to add more space?  
        \item If \texttt{/var} was not separated and you frequently run out of space due to logs, how might you redesign?
    \end{itemize}
\end{enumerate}



\section*{Summary}

\begin{itemize}
    \item \textbf{Partitions} define logical divisions of a disk, while \textbf{filesystems} define how data is stored.  
    \item Strategic partitioning improves \textbf{stability, security, and maintenance} (e.g., \texttt{/boot}, \texttt{/home}, \texttt{/var} separate).  
    \item \textbf{UEFI} systems require an \textbf{EFI System Partition (ESP)}; BIOS systems may benefit from a separate \texttt{/boot}.  
    \item Adequate \textbf{swap} is essential; guidelines depend on RAM, system usage, and whether hibernation is used.  
    \item \textbf{LVM} adds flexibility for resizing and pooling storage among multiple physical disks.  
\end{itemize}

%-------------------------------------------------------
% Multiple-Choice Questions for (102.1)
%-------------------------------------------------------

%-------------------------------------------------------
% Fill-in-the-Blank Questions (102.1)
%-------------------------------------------------------

%-------------------------------------------------------
% 102.2 Install a boot manager
%-------------------------------------------------------

\newpage

\section*{102.2 Install a Boot Manager}
\addcontentsline{toc}{section}{102.2 Install a Boot Manager}

\textbf{Reference to LPI Objectives:}  
\begin{itemize}
    \item \textbf{LPIC-1 v5, Exam 102, Objective 102.2}  
    \item \textbf{Weight:} 2  
\end{itemize}

\subsection*{Key Knowledge Areas}
\begin{itemize}
    \item Providing alternate or backup boot options.  
    \item Installing and configuring boot loaders (GRUB Legacy, GRUB 2).  
    \item Performing basic GRUB 2 configuration changes.  
    \item Interacting with the boot loader at startup.
\end{itemize}

\subsection*{Important Files, Terms, and Utilities}
\begin{itemize}
    \item \textbf{MBR} (Master Boot Record)  
    \item \texttt{/boot} directory or partition (often containing GRUB files, kernels, initrd)  
    \item \texttt{menu.lst}, \texttt{grub.cfg}, and \texttt{grub.conf}  
    \item \texttt{grub-install}, \texttt{grub-mkconfig} (or \texttt{update-grub})  
    \item \textbf{chainloading} (for non-Linux OS, e.g., Windows)
\end{itemize}



\section*{Lesson Overview}

A system’s boot loader is the first software executed when a machine powers on. On Linux, this is typically \textbf{GRUB} (either Legacy or GRUB 2). GRUB loads the kernel and passes control to it. Having a working knowledge of installing and configuring GRUB is essential for system recovery and customizing boot behavior.



\section*{1. GRUB Legacy vs. GRUB 2}

\subsection*{1.1 GRUB Legacy}
\begin{itemize}
    \item Older, no longer actively developed (last release 0.97 from 2005).  
    \item Configuration file: \texttt{/boot/grub/menu.lst} (sometimes \texttt{grub.conf}).  
    \item Simpler configuration, fewer features.
\end{itemize}

\subsection*{1.2 GRUB 2}
\begin{itemize}
    \item Complete rewrite, default on most modern distributions.  
    \item Configuration files:  
    \begin{itemize}
        \item \texttt{/etc/default/grub} (main user-editable file)  
        \item \texttt{/boot/grub/grub.cfg} (auto-generated, do not edit manually)  
    \end{itemize}
    \item More modular, supports more filesystems, better scripting, theming, etc.
\end{itemize}



\section*{2. Bootloader Locations and Partitions}

\subsection*{2.1 MBR Partition Scheme}
\begin{itemize}
    \item Legacy layout where the first 512 bytes of the disk contain the MBR (boot code + partition table).  
    \item Boot loader code often placed in MBR + post-MBR gap (32 KB) before the first partition.
\end{itemize}

\subsection*{2.2 GPT (GUID Partition Table)}
\begin{itemize}
    \item Modern layout for large disks (>2 TB).  
    \item Requires a \textbf{BIOS boot partition} (for BIOS systems) or uses \textbf{EFI System Partition (ESP)} on UEFI systems.
\end{itemize}

\subsection*{2.3 /boot Partition}
\begin{itemize}
    \item Often first partition on the disk, historically to avoid BIOS cylinder limits.  
    \item Typically $\sim$300 MB in size, containing kernel images (\texttt{vmlinuz}), initrd, GRUB files, etc.  
    \item Helps ensure boot files remain accessible (especially if \texttt{/} uses encryption or an unsupported filesystem).
\end{itemize}



\section*{3. Installing GRUB 2}

\subsection*{3.1 grub-install}
\begin{itemize}
    \item Installs GRUB 2 boot code onto a disk (e.g., \texttt{/dev/sda}) or EFI partition.  
    \item Syntax examples:  
    \begin{lstlisting}[language=bash]
    grub-install --boot-directory=/boot /dev/sda
    # or for a dedicated /boot partition mounted at /mnt/tmp:
    grub-install --boot-directory=/mnt/tmp /dev/sda
    \end{lstlisting}
    \item Must point to the \textbf{disk} (e.g., \texttt{/dev/sda}), not a specific partition (unless UEFI requires otherwise).
\end{itemize}

\subsection*{3.2 Configuration}
\begin{itemize}
    \item \texttt{/etc/default/grub} – main file for user edits. Common parameters:  
    \begin{itemize}
        \item \texttt{GRUB\_DEFAULT}: default menu entry (0-based index, or \texttt{saved}).  
        \item \texttt{GRUB\_SAVEDEFAULT}: if set to \texttt{true} with \texttt{GRUB\_DEFAULT=saved}, boots the last-chosen entry.  
        \item \texttt{GRUB\_TIMEOUT}: seconds before auto-booting the default. \texttt{-1} waits indefinitely.  
        \item \texttt{GRUB\_CMDLINE\_LINUX}: universal kernel parameters (e.g., \texttt{quiet}, \texttt{splash}).  
    \end{itemize}
    \item \texttt{grub-mkconfig} (or \texttt{update-grub}) generates \texttt{/boot/grub/grub.cfg} from the above file and scripts in \texttt{/etc/grub.d/}.  
    \begin{lstlisting}[language=bash]
    grub-mkconfig -o /boot/grub/grub.cfg
    # or:
    update-grub
    \end{lstlisting}
\end{itemize}

\subsection*{3.3 Menu Entries}
\begin{itemize}
    \item Auto-discovered for Linux, other OS, or kernels.  
    \item Custom entries often added to \texttt{/etc/grub.d/40\_custom}, then re-run \texttt{update-grub}.
\end{itemize}

\subsection*{3.4 Interacting with GRUB 2}
\begin{itemize}
    \item \textbf{Boot Menu}: highlight an entry with arrow keys, press \texttt{e} to edit before booting.  
    \item \textbf{Shell Mode}: press \texttt{c} to access \texttt{grub>} shell.  
    \item \textbf{Rescue Shell} (\texttt{grub rescue>}): minimal commands, must \texttt{insmod} needed modules (e.g., \texttt{normal}, \texttt{linux}) if GRUB config is broken.
\end{itemize}



\section*{4. GRUB Legacy (for Reference)}

\subsection*{4.1 Installing}
\begin{itemize}
    \item Via \texttt{grub-install /dev/sda} (must specify the disk, not a partition).  
    \item From GRUB Legacy shell:  
    \begin{lstlisting}[language=bash]
    grub> root (hd0,0)
    grub> setup (hd0)
    \end{lstlisting}
    
    \item \texttt{root (hd0,0)} means the first disk (\texttt{hd0}), first partition (\texttt{0}), if \texttt{/boot} is there.
\end{itemize}

\subsection*{4.2 Configuration: /boot/grub/menu.lst}
\begin{itemize}
    \item Example menu entry:
    \begin{lstlisting}[language=bash]
    title My Linux
    root (hd0,0)
    kernel /vmlinuz root=/dev/hda1
    initrd /initrd.img
    \end{lstlisting}
    
    \item \texttt{chainloader +1} used to boot Windows or other OS by loading their own bootloader code.
\end{itemize}


\section*{5. Booting from the GRUB Shell}

\begin{enumerate}
    \item \textbf{Identify Partitions}: 
    \begin{lstlisting}[language=bash]
    grub> ls
    (hd0) (hd0,msdos1)
    \end{lstlisting} 
    \begin{verbatim}
    
    \end{verbatim}
    \item \textbf{Set root} (example):  
    \begin{lstlisting}[language=bash]
    grub> set root=(hd0,msdos1)
    \end{lstlisting}
    \item \textbf{Load Kernel \& Initrd} (GRUB 2 example):  
    \begin{lstlisting}[language=bash]
    grub> linux /vmlinuz root=/dev/sda1
    grub> initrd /initrd.img
    grub> boot
    \end{lstlisting}
    \item \textbf{Rescue Mode}: need to \texttt{set prefix=(hd0,msdos1)/boot/grub} and \texttt{insmod normal}, \texttt{insmod linux} before proceeding.
\end{enumerate}



\section*{Workbook Exercises}

\begin{enumerate}
    \item \textbf{Identify Boot Device}  
    \begin{itemize}
        \item Run \texttt{fdisk -l /dev/sda} or \texttt{lsblk -f} and find your \textbf{boot partition}.  
        \item Note which partition is marked as bootable.
    \end{itemize}

    \item \textbf{Install GRUB 2}  
    \begin{itemize}
        \item Mount your \texttt{/boot} (or boot partition) if needed at \texttt{/mnt/tmp}.  
        \item Run:
        \begin{lstlisting}[language=bash]
        grub-install --boot-directory=/mnt/tmp /dev/sda
        \end{lstlisting}
        \item Verify GRUB files are placed in \texttt{/mnt/tmp/boot/grub}.
    \end{itemize}

    \item \textbf{Customize GRUB Timeout}  
    \begin{itemize}
        \item Edit \texttt{/etc/default/grub} and set \texttt{GRUB\_TIMEOUT=5}.  
        \item Run \texttt{update-grub} (or \texttt{grub-mkconfig -o /boot/grub/grub.cfg}).  
        \item Reboot and confirm you see the menu for 5 seconds.
    \end{itemize}

    \item \textbf{Add a Kernel Parameter}  
    \begin{itemize}
        \item In \texttt{/etc/default/grub}, add an option to \texttt{GRUB\_CMDLINE\_LINUX="quiet splash"}.  
        \item Update GRUB and reboot. Check \texttt{/proc/cmdline} to confirm the new parameter.
    \end{itemize}

    \item \textbf{Practice Chainloading}  
    \begin{itemize}
        \item If you have a Windows install at \texttt{(hd0,2)}, add a custom entry in \texttt{/etc/grub.d/40\_custom} (or in GRUB Legacy’s \texttt{menu.lst}):
        \begin{lstlisting}[language=bash]
        menuentry "Windows" {
            set root=(hd0,2)
            chainloader +1
        }
        \end{lstlisting}
        \item Update GRUB and verify you can boot into Windows.
    \end{itemize}

    \item \textbf{GRUB Rescue Simulation}  
    \begin{itemize}
        \item Temporarily rename \texttt{/boot/grub/grub.cfg} to break GRUB.  
        \item Reboot to force the \texttt{grub rescue>} prompt.  
        \item Use \texttt{ls}, \texttt{set prefix=}, \texttt{insmod normal}, etc., to recover manually.  
        \item Restore \texttt{grub.cfg} after testing.
    \end{itemize}
\end{enumerate}



\section*{Summary}

\begin{itemize}
    \item \textbf{GRUB 2} is the modern bootloader on most Linux systems, replacing \textbf{GRUB Legacy}.  
    \item \texttt{grub-install} places boot code on the MBR (BIOS) or ESP (UEFI).  
    \item \texttt{/etc/default/grub} and scripts in \texttt{/etc/grub.d/} define the GRUB 2 menu.  
    \item Use \texttt{update-grub} (or \texttt{grub-mkconfig}) to regenerate \texttt{/boot/grub/grub.cfg}.  
    \item In emergencies, the \textbf{GRUB shell} (normal or rescue) can manually load kernel and initrd to boot.  
\end{itemize}




%-------------------------------------------------------
% Multiple-Choice Questions for (102.2)
%-------------------------------------------------------


%-------------------------------------------------------
% Fill-in-the-Blank Questions (102.2)
%-------------------------------------------------------


%-------------------------------------------------------
% 102.3 Manage shared libraries
%-------------------------------------------------------

\section*{102.3 Manage shared libraries}
\addcontentsline{toc}{section}{102.3 Manage shared libraries}

%-------------------------------------------------------
% Multiple-Choice Questions for (102.3)
%-------------------------------------------------------



%-------------------------------------------------------
% Fill-in-the-Blank Questions (102.3)
%-------------------------------------------------------



%-------------------------------------------------------
% 102.4 Use Debian package management
%-------------------------------------------------------

\section*{102.4 Use Debian package management}
\addcontentsline{toc}{section}{102.4 Use Debian package management}

%-------------------------------------------------------
% Multiple-Choice Questions for (102.4)
%-------------------------------------------------------

%-------------------------------------------------------
% Fill-in-the-Blank Questions (102.4)
%-------------------------------------------------------


%-------------------------------------------------------
% 102.5 Use RPM and YUM package management
%-------------------------------------------------------

\section*{102.5 Use RPM and YUM package management}
\addcontentsline{toc}{section}{102.5 Use RPM and YUM package management}

%-------------------------------------------------------
% Multiple-Choice Questions for (102.5)
%-------------------------------------------------------

%-------------------------------------------------------
% Fill-in-the-Blank Questions (102.5)
%-------------------------------------------------------



%-------------------------------------------------------
% 102.6 Linux as a virtualization guest
%-------------------------------------------------------

\section*{102.6 Linux as a virtualization guest}
\addcontentsline{toc}{section}{102.6 Linux as a virtualization guest}

%-------------------------------------------------------
% Multiple-Choice Questions for (102.6)
%-------------------------------------------------------


%-------------------------------------------------------
% Fill-in-the-Blank Questions (102.6)
%-------------------------------------------------------

%=======================================================
% TOPIC 103: GNU AND UNIX COMMANDS
%=======================================================
\chapter{Topic 103: GNU and Unix Commands}

%-------------------------------------------------------
% 103.1 Work on the command line
%-------------------------------------------------------

\section*{103.1 Work on the command line}
\addcontentsline{toc}{section}{103.1 Work on the command line}

%-------------------------------------------------------
% Multiple-Choice Questions for (103.1)
%-------------------------------------------------------

%-------------------------------------------------------
% Fill-in-the-Blank Questions (103.1)
%-------------------------------------------------------

%-------------------------------------------------------
% 103.2 Process text streams using filters
%-------------------------------------------------------

\section*{103.2 Process text streams using filters}
\addcontentsline{toc}{section}{103.2 Process text streams using filters}

%-------------------------------------------------------
% Multiple-Choice Questions for (103.2)
%-------------------------------------------------------

%-------------------------------------------------------
% Fill-in-the-Blank Questions (103.2)
%-------------------------------------------------------

%-------------------------------------------------------
% 103.3 Perform basic file management
%-------------------------------------------------------

\section*{103.3 Perform basic file management}
\addcontentsline{toc}{section}{103.3 Perform basic file management}

%-------------------------------------------------------
% Multiple-Choice Questions for (103.3)
%-------------------------------------------------------

%-------------------------------------------------------
% Fill-in-the-Blank Questions (103.3)
%-------------------------------------------------------

%-------------------------------------------------------
% 103.4 Use streams, pipes and redirects
%-------------------------------------------------------

\section*{103.4 Use streams, pipes and redirects}
\addcontentsline{toc}{section}{103.4 Use streams, pipes and redirects}

%-------------------------------------------------------
% Multiple-Choice Questions for (103.4)
%-------------------------------------------------------

%-------------------------------------------------------
% Fill-in-the-Blank Questions (103.4)
%-------------------------------------------------------

%-------------------------------------------------------
% 103.5 Create, monitor and kill processes
%-------------------------------------------------------

\section*{103.5 Create, monitor and kill processes}
\addcontentsline{toc}{section}{103.5 Create, monitor and kill processes}

%-------------------------------------------------------
% Multiple-Choice Questions for (103.5)
%-------------------------------------------------------

%-------------------------------------------------------
% Fill-in-the-Blank Questions (103.5)
%-------------------------------------------------------

%-------------------------------------------------------
% 103.6 Modify process execution priorities
%-------------------------------------------------------

\section*{103.6 Modify process execution priorities}
\addcontentsline{toc}{section}{103.6 Modify process execution priorities}

%-------------------------------------------------------
% Multiple-Choice Questions for (103.6)
%-------------------------------------------------------

%-------------------------------------------------------
% Fill-in-the-Blank Questions (103.6)
%-------------------------------------------------------

%-------------------------------------------------------
% 103.7 Search text files using regular expressions
%-------------------------------------------------------

\section*{103.7 Search text files using regular expressions}
\addcontentsline{toc}{section}{103.7 Search text files using regular expressions}

%-------------------------------------------------------
% Multiple-Choice Questions for (103.7)
%-------------------------------------------------------

%-------------------------------------------------------
% Fill-in-the-Blank Questions (103.7)
%-------------------------------------------------------

%-------------------------------------------------------
% 103.8 Basic file editing
%-------------------------------------------------------

\section*{103.8 Basic file editing}
\addcontentsline{toc}{section}{103.8 Basic file editing}

%-------------------------------------------------------
% Multiple-Choice Questions for (103.8)
%-------------------------------------------------------

%-------------------------------------------------------
% Fill-in-the-Blank Questions (103.8)
%-------------------------------------------------------


%=======================================================
% TOPIC 104: DEVICES, LINUX FILESYSTEMS, FHS
%=======================================================
\chapter{Topic 104: Devices, Linux Filesystems, Filesystem Hierarchy Standard}

\section{104.1 Create partitions and filesystems}
\textit{[Brief syllabus and questions to be added here]}

\section{104.2 Maintain the integrity of filesystems}
\textit{[Brief syllabus and questions to be added here]}

\section{104.3 Control mounting and unmounting of filesystems}
\textit{[Brief syllabus and questions to be added here]}

\section{104.5 Manage file permissions and ownership}
\textit{[Brief syllabus and questions to be added here]}

\subsection*{104.5 Lesson 1}
\textit{[Brief syllabus and questions to be added here]}

\section{104.6 Create and change hard and symbolic links}
\textit{[Brief syllabus and questions to be added here]}

\section{104.7 Find system files and place files in the correct location}
\textit{[Brief syllabus and questions to be added here]}

%=======================================================
% TOPIC 105: SHELLS AND SHELL SCRIPTING
%=======================================================
\chapter{Topic 105: Shells and Shell Scripting}
\section{105.1 Customize and use the shell environment}
\textit{[Brief syllabus and questions to be added here]}

\section{105.2 Customize or write simple scripts}
\textit{[Brief syllabus and questions to be added here]}

%=======================================================
% TOPIC 106: USER INTERFACES AND DESKTOPS
%=======================================================
\chapter{Topic 106: User Interfaces and Desktops}
\section{106.1 Install and configure X11}
\textit{[Brief syllabus and questions to be added here]}

\section{106.2 Graphical Desktops}
\textit{[Brief syllabus and questions to be added here]}

\section{106.3 Accessibility}
\textit{[Brief syllabus and questions to be added here]}

%=======================================================
% TOPIC 107: ADMINISTRATIVE TASKS
%=======================================================
\chapter{Topic 107: Administrative Tasks}
\section{107.1 Manage user and group accounts and related system files}
\textit{[Brief syllabus and questions to be added here]}

\section{107.2 Automate system administration tasks by scheduling jobs}
\textit{[Brief syllabus and questions to be added here]}

\section{107.3 Localisation and internationalisation}
\textit{[Brief syllabus and questions to be added here]}

%=======================================================
% TOPIC 108: ESSENTIAL SYSTEM SERVICES
%=======================================================
\chapter{Topic 108: Essential System Services}
\section{108.1 Maintain system time}
\textit{[Brief syllabus and questions to be added here]}

\section{108.2 System logging}
\textit{[Brief syllabus and questions to be added here]}

\section{108.3 Mail Transfer Agent (MTA) basics}
\textit{[Brief syllabus and questions to be added here]}

\section{108.4 Manage printers and printing}
\textit{[Brief syllabus and questions to be added here]}

%=======================================================
% TOPIC 109: NETWORKING FUNDAMENTALS
%=======================================================
\chapter{Topic 109: Networking Fundamentals}
\section{109.1 Fundamentals of internet protocols}
\textit{[Brief syllabus and questions to be added here]}

\section{109.2 Persistent network configuration}
\textit{[Brief syllabus and questions to be added here]}

\section{109.3 Basic network troubleshooting}
\textit{[Brief syllabus and questions to be added here]}

\section{109.4 Configure client side DNS}
\textit{[Brief syllabus and questions to be added here]}

%=======================================================
% TOPIC 110: SECURITY
%=======================================================
\chapter{Topic 110: Security}
\section{110.1 Perform security administration tasks}
\textit{[Brief syllabus and questions to be added here]}

\section{110.2 Setup host security}
\textit{[Brief syllabus and questions to be added here]}

\section{110.3 Securing data with encryption}
\textit{[Brief syllabus and questions to be added here]}

%-------------------------------------------------------
% ANSWERS SECTION
%-------------------------------------------------------
\clearpage

\chapter*{Answers} 
\addcontentsline{toc}{chapter}{Answers} 

%=======================================================
% ANSWERS FOR TOPIC 101
%=======================================================
\section*{Topic 101: System Architecture}
\addcontentsline{toc}{section}{Topic 101: System Architecture}

\subsection*{101.1 Determine and Configure Hardware Settings}
\subsubsection*{Multiple-Choice Questions (101.1)}
\begin{enumerate}[1.]
    \item A
    \item C
    \item D
    \item B
    \item A
    \item B
    \item C
    \item A
    \item C
    \item B
    \item B
    \item C
    \item C
    \item D
    \item B
    \item C
    \item C
    \item C
    \item D
    \item C
    \end{enumerate}

\subsubsection*{Fill-in-the-Blank Questions (101.1)}
\begin{enumerate}[1.]
    \item BIOS
    \item lsmod
    \item driver
    \item udev
    \item /proc
    \item BIOS
    \item SCSI
    \item modprobe
    \item /etc/modprobe.d
    \item lsusb
    \end{enumerate}


    \subsection*{101.2 Boot the System}
    \subsubsection*{Multiple-Choice Questions (101.2)}
\begin{enumerate}[1.]
    \item C
    \item A
    \item D
    \item B
    \item A
    \item C
    \item B
    \item B
    \item B
    \item D
    \item C
    \item C
    \item D
    \item A
    \item D
    \item A
    \item D
    \item C
    \item A
    \item B
    \end{enumerate}

\subsubsection*{Fill-in-the-Blank Questions (101.2)}
\begin{enumerate}[1.]
    \item BIOS, UEFI
    \item 440, MBR
    \item EFI System Partition (ESP)
    \item init
    \item Kernel parameters
    \item regenerate
    \item kernel ring buffer
    \item POST (Power-On Self-Test)
    \item inittab
    \item daemon
    \end{enumerate}


    \subsection*{101.3 Change Runlevels / Boot Targets and Shutdown or Reboot System}
    \subsubsection*{Multiple-Choice Questions (101.3)}
    \begin{enumerate}[1.]
    \item A
    \item A
    \item B
    \item C
    \item A
    \item C
    \item D
    \item B
    \item C
    \item A
    \item B
    \item D
    \item C
    \item A
    \item B
    \item D
    \item C
    \item B
    \item A
    \item D
    \end{enumerate}

\subsubsection*{Fill-in-the-Blank Questions (101.3)}
    \begin{enumerate}[1.]
    \item /etc/inittab
    \item telinit 1 or telinit s
    \item telinit q
    \item /etc/init.d/
    \item unit
    \item 
        \begin{itemize}
            \item multi-user.target
            \item graphical.target
            \item (Any valid systemd target name is acceptable here.)
        \end{itemize}
    \item isolate
    \item systemd
    \item wall
    \item shutdown
    \end{enumerate}

\end{document}
